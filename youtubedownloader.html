<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Impressive YouTube Downloader (Public API)</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <style>
        /* --- Custom CSS for Impressive Look --- */
        body {
            background-color: #f7f9fc; /* Light, clean background */
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .downloader-card {
            background: #ffffff;
            border-radius: 1rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            padding: 3rem;
            max-width: 600px;
            width: 100%;
        }
        .main-icon {
            color: #e52d27; /* YouTube Red */
            font-size: 3rem;
            margin-bottom: 0.5rem;
        }
        .btn-primary {
            background-color: #e52d27;
            border-color: #e52d27;
            transition: all 0.3s ease;
        }
        .btn-primary:hover {
            background-color: #c42721;
            border-color: #c42721;
            transform: translateY(-1px);
        }
        .form-select {
            height: calc(3.5rem + 2px); 
            font-weight: 500;
        }
        .footer-disclaimer {
            font-size: 0.8rem;
            color: #99aab5;
            margin-top: 20px;
        }
    </style>
</head>
<body>

    <div class="downloader-card">
        <div class="text-center">
            <i class="main-icon bi bi-youtube"></i> 
            <h1 class="mb-4 fw-bold">Video Fetcher</h1>
        </div>

        <div class="input-group mb-3 shadow-sm">
            <span class="input-group-text bg-light"><i class="bi bi-link-45deg"></i></span>
            <input type="text" class="form-control form-control-lg" id="urlInput" placeholder="Paste YouTube Link (URL)" aria-label="YouTube URL">
        </div>

        <div class="row g-3 mb-4">
            <div class="col-md-7">
                <select class="form-select form-select-lg" id="qualitySelect" aria-label="Select quality">
                    <option value="720p" selected>Best Quality (720p MP4)</option>
                    <option value="360p">Standard Quality (360p MP4)</option>
                    <option value="mp3">Audio Only (MP3)</option>
                </select>
            </div>
            <div class="col-md-5">
                <button class="btn btn-primary btn-lg w-100" type="button" id="downloadButton">
                    <i class="bi bi-search"></i> Fetch Link
                </button>
            </div>
        </div>
        
        <div id="feedbackContainer">
            <div class="alert alert-info d-flex align-items-center mb-0" role="alert" id="statusMessage">
                <i class="bi bi-info-circle-fill me-2"></i>
                <div>
                    Ready. Paste a link and click 'Fetch Link'.
                </div>
            </div>
        </div>

        <p class="footer-disclaimer text-center">
            Note: This downloader relies on a third-party service and its functionality may be unreliable or change without notice.
        </p>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <script>
    const urlInput = document.getElementById('urlInput');
    const downloadButton = document.getElementById('downloadButton');
    const qualitySelect = document.getElementById('qualitySelect'); // Unused in this method, but kept for UI consistency
    const feedbackContainer = document.getElementById('feedbackContainer');
    
    // The core of the Dev.to method: Prepending "ss" to the YouTube domain.
    const DOWNLOAD_BASE_URL = 'https://ssyoutube.com/watch?v=';
    
    // Function to update the status message
    function setStatus(message, type = 'info') {
        let statusContainer = document.getElementById('feedbackContainer');
        statusContainer.innerHTML = ''; // Clear previous content
        
        const newAlert = document.createElement('div');
        newAlert.id = 'statusMessage';
        newAlert.className = `alert alert-${type} d-flex align-items-center mb-0`;
        newAlert.setAttribute('role', 'alert');
        newAlert.innerHTML = `<i class="bi bi-info-circle-fill me-2"></i> <div>${message}</div>`;
        
        statusContainer.appendChild(newAlert);
    }

    // Function to extract the YouTube video ID (e.g., dQw4w9WgXcQ)
    function getVideoId(url) {
        const urlParams = new URLSearchParams(new URL(url).search);
        const videoId = urlParams.get('v');
        return videoId;
    }

    downloadButton.addEventListener('click', function() {
        const videoUrl = urlInput.value.trim();
        
        if (!videoUrl) {
            setStatus('Error: Please paste a valid YouTube URL.', 'danger');
            return;
        }
        
        try {
            const videoId = getVideoId(videoUrl);
            
            if (!videoId) {
                setStatus('Error: Could not find a valid video ID in the URL.', 'danger');
                return;
            }

            // Construct the final redirect URL using the video ID
            const redirectUrl = `https://ssyoutube.com/watch?v=${videoId}`;
            
            // Redirect the user's browser to the external downloader service
            window.location.href = redirectUrl;
            
            // Provide success feedback instantly
            setStatus('Redirecting you to the download page...', 'success');

        } catch (error) {
            // Catches invalid URLs (e.g., if new URL() fails)
            setStatus('Error: The pasted URL format is invalid.', 'danger');
            console.error('URL Processing Error:', error);
        }
    });
</script>

<script src="https://cdn.jsdelivr.net/npm/youtube-downloader-api@1.0.2/app.min.js"></script>
</body>
</html>